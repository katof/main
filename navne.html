<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ITDD √Örhus ‚Äì Hvem er jeg? (punkter)</title>
  <style>
    :root{
      --bg:#0b0b10;--panel:#11131a;--panel-2:#171a22;--text:#ffffff;--muted:#9aa3b2;--accent:#6ee7b7;--wrong:#ff8da1;--ring:#2a2f3a;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b0b10,#0e1016);color:var(--text);font:16px/1.5 system-ui,Segoe UI,Roboto,Inter,Arial}
    .wrap{max-width:820px;margin:32px auto;padding:20px}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid var(--ring);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    header{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid var(--ring)}
    header h1{font-size:22px;margin:0}
    header .tag{font-size:12px;color:var(--muted);background:#0d0f15;border:1px solid var(--ring);padding:4px 8px;border-radius:999px}
    .panel{padding:18px}
    .muted{color:var(--muted)}
    .row{display:flex;gap:10px;align-items:center;justify-content:space-between}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .btn{appearance:none;border:1px solid var(--ring);background:#0f1218;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:600}
    .btn:hover{background:#111622}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .btn.primary{background:var(--text);color:#0b0b10;border-color:transparent}
    .btn.primary:hover{filter:brightness(.93)}
    .kpi{font-size:14px;color:var(--muted)}
    .kpi b{color:var(--text)}
    .q h3{margin:12px 0 8px}
    ul.punkter{margin:0;padding:0 0 0 22px}
    ul.punkter li{margin:4px 0}
    .opt{border:1px solid var(--ring);padding:10px 12px;border-radius:12px;background:#0e1118;color:var(--text);font-weight:600;cursor:pointer;text-align:center}
    .opt:hover{background:#10131b}
    .opt.correct{border-color:#1faa84;background:rgba(110,231,183,.12)}
    .opt.wrong{border-color:#d23c57;background:rgba(255,141,161,.12)}
    .feedback{height:22px;font-weight:700}
    footer{padding:12px 18px;border-top:1px solid var(--ring);display:flex;justify-content:space-between;align-items:center}
    /* mini confetti */
    .confetti{position:fixed;left:50%;top:80px;pointer-events:none}
    .confetti span{position:absolute;animation:fall 1.2s ease-in forwards}
    @keyframes fall{to{transform:translate(var(--x,0), 180px) rotate(340deg);opacity:0}}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <!-- resten af HTML og script som tidligere -->
</body>
</html>
<body>
  <div class="wrap card" role="application" aria-labelledby="title">
    <header>
      <h1 id="title">ITDD √Örhus ‚Äì Hvem er jeg?</h1>
      <span class="tag">Spil med info</span>
    </header>

    <div class="panel">
      <p class="muted" id="intro">Klik <b>Start</b>, l√¶s tre <b>punkter</b> og v√¶lg personen. √ât point for hvert rigtige svar.</p>
      <button id="start" class="btn primary" type="button">Start</button>
    </div>

    <div id="game" class="panel" hidden>
      <div class="row kpi" aria-live="polite">
        <div>Runde <b id="round">1</b>/<span id="total">4</span></div>
        <div>Score: <b id="score">0</b></div>
      </div>

      <div class="q">
        <h3>Hvem beskrives af disse <b>punkter</b>?</h3>
        <ul id="punkter" class="punkter" aria-describedby="punkterhelp"></ul>
        <span id="punkterhelp" class="sr-only">Tre korte punkter, g√¶t hvilken person de beskriver.</span>
      </div>

      <div id="options" class="grid" role="listbox" aria-label="Mulige personer"></div>

      <div class="row" style="margin-top:10px">
        <div id="feedback" class="feedback" aria-live="polite"></div>
        <button id="next" class="btn" type="button" disabled>N√¶ste</button>
      </div>
    </div>

    <footer>
      <small class="muted">G√¶t hvem vi er!.</small>
      <small class="muted">Lavet af: 4√ò4 holdet ‚ú®</small>
    </footer>
  </div>

  <div id="confetti" class="confetti" aria-hidden="true"></div>

  <script>
    // DATA ‚Äì kun "punkter"
    const PEOPLE = [
      {
        id: "ditte", navn: "Ditte",
        punkter: [
          "Jeg er uddannet l√¶rer og har v√¶ret klassel√¶rer.",
          "Jeg dr√∏mmer om at kombinere p√¶dagogik med IT‚Äëdidaktik.",
          "Jeg elsker at lave mad ‚Äì og n√∏rder tilbudsaviser!",
        ],
      },
      {
        id: "maya", navn: "Maya",
        punkter: [
          "Jeg bor i Kolding med k√¶reste og datter.",
          "Jeg er socialp√¶dagog ‚Äì nu ITDD‚Äëstuderende.",
          "Jeg elsker mad, men hader at lave det.",
        ],
      },
      {
        id: "karina", navn: "Karina",
        punkter: [
          "Jeg bor p√• F√¶r√∏erne og arbejder som redakt√∏r.",
          "Jeg n√∏rder l√¶ring ‚Äì fra mikrobiologi til krigsstrategi.",
          "N√•r det kommer til mad, er jeg ret afslappet ‚Äì alt er godt!",
        ],
      },
      {
        id: "bruno", navn: "Bruno",
        punkter: [
          "Jeg samler vinyl og g√¶ster tit festivaler/koncerter.",
          "Jeg taler i h√∏jttalerne p√• BK FREM‚Äôs stadion.",
          "Jeg arbejder som digitaliseringskonsulent.",
        ],
      },
    ];

    // Utils
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];
    const shuffle = (arr) => arr.map(v => [Math.random(), v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);
    const sample = (arr, n) => shuffle(arr).slice(0, n);

    // State
    let rounds = [];
    let step = 0;
    let score = 0;

    // DOM refs
    const startBtn = $('#start');
    const game = $('#game');
    const roundEl = $('#round');
    const totalEl = $('#total');
    const scoreEl = $('#score');
    const punkterEl = $('#punkter');
    const optionsEl = $('#options');
    const feedbackEl = $('#feedback');
    const nextBtn = $('#next');
    const confetti = $('#confetti');

    function startGame(){
      rounds = shuffle(PEOPLE);
      step = 0; score = 0;
      totalEl.textContent = rounds.length;
      scoreEl.textContent = score;
      $('#intro').hidden = true;
      startBtn.hidden = true;
      game.hidden = false;
      renderRound();
    }

    function renderRound(){
      const current = rounds[step];
      roundEl.textContent = step + 1;
      feedbackEl.textContent = '';
      nextBtn.disabled = true;

      // vis punkter
      punkterEl.innerHTML = '';
      current.punkter.forEach(p => {
        const li = document.createElement('li');
        li.textContent = p; punkterEl.appendChild(li);
      });

      // lav svarmuligheder (s√∏rg for at current er inkluderet)
      const others = PEOPLE.filter(p => p.id !== current.id);
      const opts = shuffle([current, ...sample(others, Math.min(3, others.length))]).slice(0, Math.min(4, PEOPLE.length));

      optionsEl.innerHTML = '';
      opts.forEach(o => {
        const btn = document.createElement('button');
        btn.className = 'opt';
        btn.role = 'option';
        btn.textContent = o.navn;
        btn.addEventListener('click', () => pick(o.id, btn, current.id));
        optionsEl.appendChild(btn);
      });
    }

    function pick(id, el, correctId){
      // l√•s flere valg
      $$('.opt').forEach(b => b.disabled = true);

      if(id === correctId){
        el.classList.add('correct');
        feedbackEl.textContent = 'Korrekt! üéâ';
        score++; scoreEl.textContent = score;
        burst();
      } else {
        el.classList.add('wrong');
        feedbackEl.textContent = 'Ikke helt‚Ä¶';
        // marker korrekt
        $$('.opt').find(b => b.textContent === PEOPLE.find(p=>p.id===correctId).navn)?.classList.add('correct');
      }
      nextBtn.disabled = false;
    }

    function next(){
      if(step < rounds.length - 1){
        step++; renderRound();
      } else {
        // slutsk√¶rm
        optionsEl.innerHTML = '';
        punkterEl.innerHTML = '';
        feedbackEl.textContent = '';
        const done = document.createElement('div');
        done.innerHTML = `<h3>F√¶rdig! üëè</h3><p class="muted">Din score: <b>${score}</b> / ${rounds.length}</p>`;
        optionsEl.appendChild(done);
        nextBtn.disabled = true;
        const again = document.createElement('button');
        again.className = 'btn primary';
        again.textContent = 'Spil igen';
        again.addEventListener('click', ()=>{ $('#intro').hidden=false; startBtn.hidden=false; game.hidden=true;});
        optionsEl.appendChild(again);
      }
    }

    function burst(){
      // mini emoji confetti uden libs
      confetti.innerHTML = '';
      const icons = ['üéâ','‚ú®','üéà','ü•≥'];
      for(let i=0;i<14;i++){
        const s = document.createElement('span');
        s.textContent = icons[i % icons.length];
        s.style.left = (Math.random()*120 - 60) + 'px';
        s.style.setProperty('--x', (Math.random()*200 - 100) + 'px');
        s.style.animationDelay = (Math.random()*0.1) + 's';
        confetti.appendChild(s);
        setTimeout(()=>s.remove(), 1400);
      }
    }

    startBtn.addEventListener('click', startGame);
    nextBtn.addEventListener('click', next);
  </script>
</body>
</html>
